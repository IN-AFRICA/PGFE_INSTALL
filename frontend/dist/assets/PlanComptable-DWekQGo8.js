import{d as de,A as w,p as k,r as V,v as ce,q as be,x as $,i as e,K as Ce,w as s,f as t,k as T,b as n,L as he,M as Ee,N as Ae,y as r,z as M,c as _,h as B,a4 as ie,t as g,G as Z,F as ee,P as $e,s as E,o as m,a2 as Oe}from"./index-CJ_PivE-.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-B9adgRZV.js";import{_ as _e,a as ge,b as S,c as h,d as ye,e as x}from"./TableHeader.vue_vue_type_script_setup_true_lang-cS4zBTGx.js";import{_ as ae}from"./Checkbox.vue_vue_type_script_setup_true_lang-DTckireD.js";import{_ as le,a as oe,b as ne,c as P}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DN4DQrTt.js";import{_ as xe}from"./BoxPanelWrapper.vue_vue_type_script_setup_true_lang-CmJ-Iy6y.js";import{_ as ve}from"./TabPagination.vue_vue_type_script_setup_true_lang-Dsg8W898.js";import{_ as Ne}from"./ComptaLayout.vue_vue_type_script_setup_true_lang-Bu3Oqdii.js";import{_ as we}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-Bm461x8Q.js";import{S as z}from"./SpanRequired-COKghTUX.js";import{o as Se,aM as re,s as q,av as ue,aR as ke,t as Te,aQ as I}from"./vee-validate-zod-Bra4yLtR.js";import{u as Pe}from"./usePostApi-Crg8MURP.js";import{u as R}from"./useGetApi-EdzHoZm6.js";import{e as L}from"./eventBus-CGRXT3Tn.js";import{u as Ve}from"./useDeleteApi-D2AjqV8w.js";import"./index-BpkKmY4O.js";import"./RovingFocusGroup-BxePylpC.js";import"./DashPageHeader.vue_vue_type_script_setup_true_lang-DucYyTAx.js";import"./DashLayout.vue_vue_type_script_setup_true_lang-Ch2egXHm.js";import"./RightDashHeader.vue_vue_type_script_setup_true_lang-Bn3G870_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Me={class:"grid gap-4 py-4"},Be={class:"flex flex-col space-y-1.5 flex-1"},ze={key:0,class:"text-sm text-red-500"},qe={class:"flex flex-col space-y-1.5"},Ie={key:0,class:"text-sm text-red-500"},Re={class:"flex flex-col space-y-1.5 flex-1"},Ge=["value","onChange","disabled"],Fe={key:0,value:"",disabled:""},Ke={key:1,value:""},Qe=["value"],He={key:0,class:"text-sm text-red-500"},Je={class:"flex flex-col space-y-1.5 flex-1"},We=["value","onChange","disabled"],Xe={key:0,value:"",disabled:""},Ye={key:1,value:""},Ze=["value"],et={key:0,class:"text-sm text-red-500"},tt=de({__name:"NewPlanComptable",setup(me){const H=Se({name:q().min(1,"Le nom est requis").max(255,"Max 255 caractères"),code:q().min(1,"Le code est requis").max(50,"Max 50 caractères"),class_comptability_id:re([q().refine(o=>o!=="","La classe est requise"),ue().transform(o=>String(o))]),category_comptability_id:re([q().refine(o=>o!=="","La catégorie est requise"),ue().transform(o=>String(o))])}),{postData:G,loading:j,error:D,response:J}=Pe(),{data:F,loading:U,fetchData:O}=R(w.GET_CLASS_COMPTE),{data:K,loading:A,fetchData:N}=R(w.GET_CATEGORIE_COMPTE),W=k(()=>{const o=F.value;let i=[];return Array.isArray(o)?i=o:o!=null&&o.data&&Array.isArray(o.data)?i=o.data:o&&typeof o=="object"&&(i=Object.values(o).filter(c=>c&&typeof c=="object")),i.map(c=>({id:String(c.id??c.value??""),name:c.name??c.label??c.libelle??`Classe #${c.id??c.value}`,code:c.code??c.code_class??c.codeClasse??c.codeValue??""}))}),f=k(()=>{const o=K.value;let i=[];return Array.isArray(o)?i=o:o!=null&&o.data&&Array.isArray(o.data)?i=o.data:o&&typeof o=="object"&&(i=Object.values(o).filter(c=>c&&typeof c=="object")),i.map(c=>({id:String(c.id??c.value??""),name:c.name??c.label??c.libelle??`Catégorie #${c.id??c.value}`}))}),u=V(!1);function p(o,i,c){i(o)}ce(async()=>{await Promise.all([O(),N()])}),be(u,async o=>{o&&await Promise.all([O(),N()])});async function y(o){var i;try{const c={name:o.name,code:o.code,class_comptability_id:Number(o.class_comptability_id),category_comptability_id:Number(o.category_comptability_id)};if(await G(w.CREATE_COMPTE,c),D.value){E({message:D.value,type:"error"});return}const v=((i=J.value)==null?void 0:i.message)||"Plan comptable créé avec succès.";E({message:v,type:"success"}),u.value=!1,L.emit("planComptableUpdated")}catch{E({message:"Une erreur est survenue",type:"error"})}}return(o,i)=>(m(),$(e(Ce),{open:u.value,"onUpdate:open":i[1]||(i[1]=c=>u.value=c)},{default:s(()=>[t(e(we),{"as-child":""},{default:s(()=>[t(e(T),{size:"md",class:"rounded-md"},{default:s(()=>[...i[2]||(i[2]=[n("span",{class:"iconify hugeicons--plus-sign"},null,-1),n("span",{class:"hidden sm:flex"}," Ajouter ",-1)])]),_:1})]),_:1}),t(e(he),{class:"sm:max-w-[540px]"},{default:s(()=>[t(e(Ee),null,{default:s(()=>[t(e(Ae),null,{default:s(()=>[...i[3]||(i[3]=[r("Ajouter un compte",-1)])]),_:1})]),_:1}),t(e(ke),{onSubmit:y,"validation-schema":e(Te)(e(H))},{default:s(({setFieldValue:c})=>[n("div",Me,[n("div",Be,[t(e(M),{for:"code",class:"text-sm font-medium"},{default:s(()=>[i[4]||(i[4]=r("Code ",-1)),t(z)]),_:1}),t(e(I),{name:"code"},{default:s(({field:v,errorMessage:b})=>[t(e(Q),ie({id:"code"},v,{placeholder:"Ex: ACC-001"}),null,16),b?(m(),_("span",ze,g(b),1)):B("",!0)]),_:1})]),n("div",qe,[t(e(M),{for:"name",class:"text-sm font-medium"},{default:s(()=>[i[5]||(i[5]=r("Nom ",-1)),t(z)]),_:1}),t(e(I),{name:"name"},{default:s(({field:v,errorMessage:b})=>[t(e(Q),ie({id:"name"},v,{placeholder:"Ex: Comptes de capitaux"}),null,16),b?(m(),_("span",Ie,g(b),1)):B("",!0)]),_:1})]),n("div",Re,[t(e(M),{class:"text-sm font-medium"},{default:s(()=>[i[6]||(i[6]=r("Classe ",-1)),t(z)]),_:1}),t(e(I),{name:"class_comptability_id"},{default:s(({field:v,errorMessage:b})=>[(m(),_("select",{key:u.value?"open":"closed",class:"w-full h-10 border border-gray-200/40 bg-white rounded-md px-2",value:v.value,onChange:C=>p(C.target.value,v.onChange,c),disabled:e(U)},[e(U)?(m(),_("option",Fe,"Chargement des classes...")):(m(),_("option",Ke,"Sélectionner une classe")),(m(!0),_(Z,null,ee(W.value,C=>(m(),_("option",{key:C.id,value:C.id},g(C.name),9,Qe))),128))],40,Ge)),b?(m(),_("span",He,g(b),1)):B("",!0)]),_:2},1024)]),n("div",Je,[t(e(M),{class:"text-sm font-medium"},{default:s(()=>[i[7]||(i[7]=r("Catégorie ",-1)),t(z)]),_:1}),t(e(I),{name:"category_comptability_id"},{default:s(({field:v,errorMessage:b})=>[(m(),_("select",{key:u.value?"open-cat":"closed-cat",class:"w-full h-10 border border-gray-200/40 bg-white rounded-md px-2",value:v.value,onChange:C=>v.onChange(C.target.value),disabled:e(A)},[e(A)?(m(),_("option",Xe,"Chargement des catégories...")):(m(),_("option",Ye,"Sélectionner une catégorie")),(m(!0),_(Z,null,ee(f.value,C=>(m(),_("option",{key:C.id,value:C.id},g(C.name),9,Ze))),128))],40,We)),b?(m(),_("span",et,g(b),1)):B("",!0)]),_:1})]),i[8]||(i[8]=n("div",{class:"mt-1 pb-2"},[n("p",{class:"text-sm text-foreground-muted"},"Les champs marqués sont obligatoires")],-1))]),t(e($e),{class:"flex justify-end gap-2 items-center"},{default:s(()=>[t(e(T),{size:"sm",class:"h-9",variant:"outline",type:"button",onClick:i[0]||(i[0]=v=>u.value=!1)},{default:s(()=>[...i[9]||(i[9]=[n("span",{class:"iconify flex hugeicons--cancel-01 mr-1"},null,-1),r(" Annuler ",-1)])]),_:1}),t(e(T),{size:"sm",class:"h-9",type:"submit",disabled:e(j)},{default:s(()=>[i[10]||(i[10]=n("span",{class:"iconify flex hugeicons--floppy-disk mr-1"},null,-1)),r(" "+g(e(j)?"Enregistrement...":"Enregistrer"),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["validation-schema"])]),_:1})]),_:1},8,["open"]))}}),st={class:"grid gap-4 py-4"},at={class:"flex flex-col space-y-1.5 flex-1"},lt={key:0,class:"text-sm text-red-500"},ot={class:"flex flex-col space-y-1.5"},nt={key:0,class:"text-sm text-red-500"},it={class:"flex flex-col space-y-1.5 flex-1"},rt=["disabled","value","onChange"],ut={key:0,value:"",disabled:""},dt={key:1,value:""},ct=["value"],mt={key:0,class:"text-sm text-red-500"},ft=de({__name:"NewSousCompte",setup(me){const H=Se({name:q().min(1,"Le nom est requis").max(255,"Max 255 caractères"),code:q().min(1,"Le code est requis").max(50,"Max 50 caractères"),account_id:re([q().refine(f=>f!=="","Le compte parent est requis"),ue().transform(f=>String(f))])}),{postData:G,loading:j,error:D,response:J}=Pe(),{data:F,loading:U,fetchData:O}=R(w.GET_COMPTE),K=k(()=>{const f=F.value;let u=[];return Array.isArray(f)?u=f:f!=null&&f.data&&Array.isArray(f.data)?u=f.data:f&&typeof f=="object"&&(u=Object.values(f).filter(p=>p&&typeof p=="object")),u.map(p=>({id:String(p.id??p.value??""),name:p.name??p.label??p.libelle??`Compte #${p.id??p.value}`,code:p.code??p.code_account??p.codeCompte??p.codeValue??""}))}),A=V(!1);ce(async()=>{await O()}),be(A,async f=>{f&&await O()});async function N(f){var u;try{const p={name:f.name,code:f.code,account_plan_id:Number(f.account_id)};if(await G(w.CREATE_SUB_COMPTE,p),D.value){E({message:D.value,type:"error"});return}const y=((u=J.value)==null?void 0:u.message)||"Sous-compte créé avec succès.";E({message:y,type:"success"}),A.value=!1,L.emit("subaccountComptableUpdated")}catch{E({message:"Une erreur est survenue",type:"error"})}}function W(f,u,p){u(f);const y=K.value.find(o=>o.id===f);y&&y.code&&p("code",y.code)}return(f,u)=>(m(),$(e(Ce),{open:A.value,"onUpdate:open":u[1]||(u[1]=p=>A.value=p)},{default:s(()=>[t(e(we),{"as-child":""},{default:s(()=>[t(e(T),{size:"md",class:"rounded-md"},{default:s(()=>[...u[2]||(u[2]=[n("span",{class:"iconify hugeicons--plus-sign"},null,-1),n("span",{class:"hidden sm:flex"}," Ajouter ",-1)])]),_:1})]),_:1}),t(e(he),{class:"sm:max-w-[540px]"},{default:s(()=>[t(e(Ee),null,{default:s(()=>[t(e(Ae),null,{default:s(()=>[...u[3]||(u[3]=[r("Ajouter un sous compte",-1)])]),_:1})]),_:1}),t(e(ke),{onSubmit:N,"validation-schema":e(Te)(e(H))},{default:s(({setFieldValue:p})=>[n("div",st,[n("div",at,[t(e(M),{for:"code",class:"text-sm font-medium"},{default:s(()=>[u[4]||(u[4]=r("Code ",-1)),t(z)]),_:1}),t(e(I),{name:"code"},{default:s(({field:y,errorMessage:o})=>[t(e(Q),ie({id:"code"},y,{placeholder:"Ex: SUB-001"}),null,16),o?(m(),_("span",lt,g(o),1)):B("",!0)]),_:1})]),n("div",ot,[t(e(M),{for:"name",class:"text-sm font-medium"},{default:s(()=>[u[5]||(u[5]=r("Nom ",-1)),t(z)]),_:1}),t(e(I),{name:"name"},{default:s(({field:y,errorMessage:o})=>[t(e(Q),ie({id:"name"},y,{placeholder:"Ex: Caisse secondaire"}),null,16),o?(m(),_("span",nt,g(o),1)):B("",!0)]),_:1})]),n("div",it,[t(e(M),{class:"text-sm font-medium"},{default:s(()=>[u[6]||(u[6]=r("Compte parent ",-1)),t(z)]),_:1}),t(e(I),{name:"account_id"},{default:s(({field:y,errorMessage:o})=>[(m(),_("select",{key:A.value?"open-acc":"closed-acc",class:"w-full h-10 border border-gray-200/40 bg-white rounded-md px-2",disabled:e(U),value:y.value,onChange:i=>W(i.target.value,y.onChange,p)},[e(U)?(m(),_("option",ut,"Chargement des comptes...")):(m(),_("option",dt,"Sélectionner un compte")),(m(!0),_(Z,null,ee(K.value,i=>(m(),_("option",{key:i.id,value:i.id},g(i.name),9,ct))),128))],40,rt)),o?(m(),_("span",mt,g(o),1)):B("",!0)]),_:2},1024)]),u[7]||(u[7]=n("div",{class:"mt-1 pb-2"},[n("p",{class:"text-sm text-foreground-muted"},"Les champs marqués sont obligatoires")],-1))]),t(e($e),{class:"flex justify-end gap-2 items-center"},{default:s(()=>[t(e(T),{size:"sm",class:"h-9",variant:"outline",type:"button",onClick:u[0]||(u[0]=y=>A.value=!1)},{default:s(()=>[...u[8]||(u[8]=[n("span",{class:"iconify flex hugeicons--cancel-01 mr-1"},null,-1),r(" Annuler ",-1)])]),_:1}),t(e(T),{size:"sm",class:"h-9",type:"submit",disabled:e(j)},{default:s(()=>[u[9]||(u[9]=n("span",{class:"iconify flex hugeicons--floppy-disk mr-1"},null,-1)),r(" "+g(e(j)?"Enregistrement...":"Enregistrer"),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["validation-schema"])]),_:1})]),_:1},8,["open"]))}}),pt={class:"grid lg:grid-cols-2 gap-7"},_t={class:"flex sm:items-center gap-3 flex-col sm:flex-row sm:justify-between"},gt={class:"relative flex-1"},yt={class:"flex flex-wrap items-center sm:justify-end gap-2.5 flex-1"},xt={class:"mt-4 rounded-md overflow-hidden flex flex-1 bg-white"},vt={class:"flex sm:items-center gap-3 flex-col sm:flex-row sm:justify-between"},bt={class:"relative flex-1"},Ct={class:"flex flex-wrap items-center sm:justify-end gap-2.5 flex-1"},ht={class:"mt-4 rounded-md overflow-hidden flex flex-1 bg-white"},Gt=de({__name:"PlanComptable",setup(me){const{data:H,error:G,loading:j,fetchData:D}=R(w.GET_COMPTE),{data:J,error:F,loading:U,fetchData:O}=R(w.GET_SUB_COMPTE),{data:K,fetchData:A}=R(w.GET_CLASS_COMPTE),{data:N,fetchData:W}=R(w.GET_CATEGORIE_COMPTE),{error:f,deleteItem:u}=Ve();function p(l){return l?Array.isArray(l)?l:l!=null&&l.data&&Array.isArray(l.data)?l.data:l!=null&&l.items&&Array.isArray(l.items)?l.items:typeof l=="object"?Object.values(l).filter(a=>a&&typeof a=="object"):[]:[]}const y=k(()=>p(H.value).map(l=>({id:l.id,code:l.code,name:l.name??l.label??`Compte #${l.id}`,class_comptability_id:String(l.class_comptability_id??""),category_comptability_id:String(l.category_comptability_id??l.categorie_comptability_id??""),created_at:l.created_at??null}))),o=k(()=>p(J.value).map(l=>({id:l.id,code:l.code,name:l.name??l.label??`Sous-compte #${l.id}`,account_id:String(l.account_id??""),created_at:l.created_at??null}))),i=V(""),c=V(""),v=k(()=>{const l=i.value.trim().toLowerCase();return l?y.value.filter(a=>(a.code||"").toLowerCase().includes(l)||(a.name||"").toLowerCase().includes(l)):y.value}),b=k(()=>{const l=c.value.trim().toLowerCase();return l?o.value.filter(a=>(a.code||"").toLowerCase().includes(l)||(a.name||"").toLowerCase().includes(l)):o.value}),C=k(()=>{const l=new Map;return y.value.forEach(a=>{l.set(String(a.id),a.name)}),l}),Le=k(()=>{const l=p(K.value),a=new Map;return l.forEach(d=>{const Y=d.name??d.label??`Classe #${d.id}`;a.set(String(d.id),Y)}),a}),fe=k(()=>{const l=p(N.value),a=new Map;return l.forEach(d=>{const Y=d.name??d.label??`Catégorie #${d.id}`;a.set(String(d.id),Y)}),a});async function X(){await Promise.all([D(),O(),A(),W()])}ce(async()=>{var l;await X(),L.on("planComptableUpdated",X),L.on("subaccountComptableUpdated",X),console.log("[PlanComptable] categoriesData:",N.value),console.log("[PlanComptable] categoryNameById size:",(l=fe.value)==null?void 0:l.size)}),Oe(()=>{L.off("planComptableUpdated",X),L.off("subaccountComptableUpdated",X)});const te=V(1),se=V(15),pe=V(20);async function je(l){try{const a=w.DELETE_COMPTE(l);if(await u(a),f.value){E({message:f.value,type:"error"});return}E({message:"Compte supprimé avec succès.",type:"success"}),L.emit("planComptableUpdated")}catch{E({message:"Erreur lors de la suppression du compte.",type:"error"})}}async function De(l){try{const a=w.DELETE_SUB_COMPTE(l);if(await u(a),f.value){E({message:f.value,type:"error"});return}E({message:"Sous-compte supprimé avec succès.",type:"success"}),L.emit("subaccountComptableUpdated")}catch{E({message:"Erreur lors de la suppression du sous-compte.",type:"error"})}}function Ue(l){if(!l)return"-";const a=new Date(l);return isNaN(a.getTime())?"-":a.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}return(l,a)=>(m(),$(Ne,{activeBread:"Plan comptable","active-tag-name":"plan-compta",group:"saisie"},{default:s(()=>[n("div",pt,[t(xe,null,{default:s(()=>[a[20]||(a[20]=n("div",{class:"flex sm:items-center flex-col sm:flex-row sm:justify-between"},[n("span",{class:"text-gray-500 my-1.5 text-xl"},"Compte")],-1)),n("div",_t,[n("div",gt,[t(e(Q),{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=d=>i.value=d),type:"text",id:"search",name:"search",placeholder:"Rechercher un compte...",class:"w-full max-w-sm ps-10 border border-gray-200/40 bg-white transition-all h-10 rounded-md"},null,8,["modelValue"]),a[6]||(a[6]=n("div",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-foreground-muted/70"},[n("span",{class:"flex iconify hugeicons--search-01 text-sm"})],-1))]),n("div",yt,[t(tt),t(e(le),null,{default:s(()=>[t(e(oe),{"as-child":""},{default:s(()=>[t(e(T),{variant:"ghost",size:"md",class:"bg-white border border-border rounded-md"},{default:s(()=>[...a[7]||(a[7]=[r(" Exporter ",-1),n("span",{class:"iconify hugeicons--arrow-down-01"},null,-1)])]),_:1})]),_:1}),t(e(ne),null,{default:s(()=>[t(e(P),{class:"flex items-center"},{default:s(()=>[...a[8]||(a[8]=[n("span",{class:"flex mr-1.5 iconify hugeicons--pdf-02"},null,-1),r(" Exporter pdf ",-1)])]),_:1}),t(e(P),{class:"flex items-center"},{default:s(()=>[...a[9]||(a[9]=[n("span",{class:"flex mr-1.5 iconify hugeicons--ai-sheets"},null,-1),r(" Exporter Excel ",-1)])]),_:1})]),_:1})]),_:1})])]),n("div",xt,[t(e(_e),{class:"rounded-md bg-white"},{default:s(()=>[t(e(ge),null,{default:s(()=>[t(e(S),null,{default:s(()=>[t(e(h),{class:"w-[20px]"},{default:s(()=>[t(e(ae),{class:"bg-white scale-70"})]),_:1}),t(e(h),null,{default:s(()=>[...a[10]||(a[10]=[r("Code",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[11]||(a[11]=[r("Nom",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[12]||(a[12]=[r("Classe",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[13]||(a[13]=[r("Catégorie",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[14]||(a[14]=[r(" Actions ",-1)])]),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:s(()=>[e(j)?(m(),$(e(S),{key:0},{default:s(()=>[t(e(x),{colspan:"5",class:"text-center py-6"},{default:s(()=>[...a[15]||(a[15]=[r("Chargement des comptes...",-1)])]),_:1})]),_:1})):e(G)?(m(),$(e(S),{key:1},{default:s(()=>[t(e(x),{colspan:"5",class:"text-center py-6 text-red-500"},{default:s(()=>[r(g(e(G)),1)]),_:1})]),_:1})):v.value.length===0?(m(),$(e(S),{key:2},{default:s(()=>[t(e(x),{colspan:"5",class:"text-center py-6"},{default:s(()=>[...a[16]||(a[16]=[r("Aucun compte trouvé",-1)])]),_:1})]),_:1})):(m(!0),_(Z,{key:3},ee(v.value,d=>(m(),$(e(S),{key:d.id,class:"group"},{default:s(()=>[t(e(x),{class:"w-[40px]"},{default:s(()=>[t(e(ae),{class:"bg-white scale-70"})]),_:1}),t(e(x),{class:"font-semibold"},{default:s(()=>[r(g(d.code),1)]),_:2},1024),t(e(x),null,{default:s(()=>[r(g(d.name),1)]),_:2},1024),t(e(x),null,{default:s(()=>[r(g(Le.value.get(String(d.class_comptability_id))||d.class_comptability_id),1)]),_:2},1024),t(e(x),null,{default:s(()=>[r(g(fe.value.get(String(d.category_comptability_id))||d.category_comptability_id||"-"),1)]),_:2},1024),t(e(x),null,{default:s(()=>[t(e(le),null,{default:s(()=>[t(e(oe),{"as-child":""},{default:s(()=>[t(e(T),{variant:"ghost",size:"sm"},{default:s(()=>[...a[17]||(a[17]=[n("span",{class:"iconify hugeicons--more-vertical text-lg"},null,-1)])]),_:1})]),_:1}),t(e(ne),{align:"end"},{default:s(()=>[t(e(P),null,{default:s(()=>[...a[18]||(a[18]=[n("span",{class:"iconify hugeicons--edit-02 mr-2"},null,-1),r(" Modifier ",-1)])]),_:1}),t(e(P),{class:"text-red-600",onClick:Y=>je(d.id)},{default:s(()=>[...a[19]||(a[19]=[n("span",{class:"iconify hugeicons--delete-02 mr-2"},null,-1),r(" Supprimer ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),t(ve,{modelValue:te.value,"onUpdate:modelValue":a[1]||(a[1]=d=>te.value=d),perPage:se.value,totalItems:pe.value,"onUpdate:perPage":a[2]||(a[2]=d=>se.value=d)},null,8,["modelValue","perPage","totalItems"])]),_:1}),t(xe,null,{default:s(()=>[a[35]||(a[35]=n("div",{class:"flex sm:items-center flex-col sm:flex-row sm:justify-between"},[n("span",{class:"text-gray-500 my-1.5 text-xl"},"Sous-compte")],-1)),n("div",vt,[n("div",bt,[t(e(Q),{modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=d=>c.value=d),type:"text",id:"search-sub",name:"search-sub",placeholder:"Rechercher un sous-compte...",class:"w-full max-w-sm ps-10 border border-gray-200/40 bg-white transition-all h-10 rounded-md"},null,8,["modelValue"]),a[21]||(a[21]=n("div",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-foreground-muted/70"},[n("span",{class:"flex iconify hugeicons--search-01 text-sm"})],-1))]),n("div",Ct,[t(ft),t(e(le),null,{default:s(()=>[t(e(oe),{"as-child":""},{default:s(()=>[t(e(T),{variant:"ghost",size:"md",class:"bg-white border border-border rounded-md"},{default:s(()=>[...a[22]||(a[22]=[r(" Exporter ",-1),n("span",{class:"iconify hugeicons--arrow-down-01"},null,-1)])]),_:1})]),_:1}),t(e(ne),null,{default:s(()=>[t(e(P),{class:"flex items-center"},{default:s(()=>[...a[23]||(a[23]=[n("span",{class:"flex mr-1.5 iconify hugeicons--pdf-02"},null,-1),r(" Exporter pdf ",-1)])]),_:1}),t(e(P),{class:"flex items-center"},{default:s(()=>[...a[24]||(a[24]=[n("span",{class:"flex mr-1.5 iconify hugeicons--ai-sheets"},null,-1),r(" Exporter Excel ",-1)])]),_:1})]),_:1})]),_:1})])]),n("div",ht,[t(e(_e),{class:"rounded-md bg-white"},{default:s(()=>[t(e(ge),null,{default:s(()=>[t(e(S),null,{default:s(()=>[t(e(h),{class:"w-[20px]"},{default:s(()=>[t(e(ae),{class:"bg-white scale-70"})]),_:1}),t(e(h),null,{default:s(()=>[...a[25]||(a[25]=[r("Code",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[26]||(a[26]=[r("Nom",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[27]||(a[27]=[r("Compte parent",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[28]||(a[28]=[r("Créé le",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[29]||(a[29]=[r(" Opérations ",-1)])]),_:1})]),_:1})]),_:1}),t(e(ye),null,{default:s(()=>[e(U)?(m(),$(e(S),{key:0},{default:s(()=>[t(e(x),{colspan:"5",class:"text-center py-6"},{default:s(()=>[...a[30]||(a[30]=[r("Chargement des sous-comptes...",-1)])]),_:1})]),_:1})):e(F)?(m(),$(e(S),{key:1},{default:s(()=>[t(e(x),{colspan:"5",class:"text-center py-6 text-red-500"},{default:s(()=>[r(g(e(F)),1)]),_:1})]),_:1})):b.value.length===0?(m(),$(e(S),{key:2},{default:s(()=>[t(e(x),{colspan:"5",class:"text-center py-6"},{default:s(()=>[...a[31]||(a[31]=[r("Aucun sous-compte trouvé",-1)])]),_:1})]),_:1})):(m(!0),_(Z,{key:3},ee(b.value,d=>(m(),$(e(S),{key:d.id,class:"group"},{default:s(()=>[t(e(x),{class:"w-[40px]"},{default:s(()=>[t(e(ae),{class:"bg-white scale-70"})]),_:1}),t(e(x),{class:"font-semibold"},{default:s(()=>[r(g(d.code),1)]),_:2},1024),t(e(x),null,{default:s(()=>[r(g(d.name),1)]),_:2},1024),t(e(x),null,{default:s(()=>[r(g(C.value.get(String(d.account_id))||d.account_id),1)]),_:2},1024),t(e(x),null,{default:s(()=>[r(g(Ue(d.created_at)),1)]),_:2},1024),t(e(x),null,{default:s(()=>[t(e(le),null,{default:s(()=>[t(e(oe),{"as-child":""},{default:s(()=>[t(e(T),{variant:"ghost",size:"sm"},{default:s(()=>[...a[32]||(a[32]=[n("span",{class:"iconify hugeicons--more-vertical text-lg"},null,-1)])]),_:1})]),_:1}),t(e(ne),{align:"end"},{default:s(()=>[t(e(P),null,{default:s(()=>[...a[33]||(a[33]=[n("span",{class:"iconify hugeicons--edit-02 mr-2"},null,-1),r(" Modifier ",-1)])]),_:1}),t(e(P),{class:"text-red-600",onClick:Y=>De(d.id)},{default:s(()=>[...a[34]||(a[34]=[n("span",{class:"iconify hugeicons--delete-02 mr-2"},null,-1),r(" Supprimer ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),t(ve,{modelValue:te.value,"onUpdate:modelValue":a[4]||(a[4]=d=>te.value=d),perPage:se.value,totalItems:pe.value,"onUpdate:perPage":a[5]||(a[5]=d=>se.value=d)},null,8,["modelValue","perPage","totalItems"])]),_:1})])]),_:1}))}});export{Gt as default};
