import{u as h}from"./useGetApi-EdzHoZm6.js";import{d as F,A as $,p as A,v as B,x as i,i as s,B as C,w as r,f as m,C as D,D as L,E as N,c as f,J as d,b as c,y as o,G as y,F as j,o as n,h as G,t as w}from"./index-CJ_PivE-.js";const P=F({__name:"ListFeeType",props:{modelValue:{},placeholder:{default:"Sélectionner un type de frais"},name:{}},emits:["update:modelValue"],setup(_,{emit:V}){const u=_,g=V,{data:b,loading:k,error:v,fetchData:x}=h($.GET_FEE_TYPES),p=A(()=>{const e=b.value;console.log("ListFeeType - feeTypes computed, feeTypesData.value:",e);let a=[];Array.isArray(e)?a=e:e!=null&&e.fee_types?Array.isArray(e.fee_types)?a=e.fee_types:e.fee_types.data&&Array.isArray(e.fee_types.data)&&(a=e.fee_types.data):e!=null&&e.data&&Array.isArray(e.data)?a=e.data:e!=null&&e.types&&Array.isArray(e.types)?a=e.types:e&&typeof e=="object"&&!Array.isArray(e)&&(a=Object.values(e).filter(t=>t&&typeof t=="object"&&(t.id||t.value)));const l=a.map(t=>({id:String(t.id??t.value??""),name:t.name??t.label??t.libelle??t.title??`Type #${t.id??t.value}`}));return console.log("ListFeeType - feeTypes résultat:",l),l}),E=A(()=>u.modelValue===null||u.modelValue===void 0||u.modelValue===""?"null":u.modelValue.toString());function S(e){if(e==="null"||e==="loading"||e==="error"||e==="empty"){g("update:modelValue","");return}g("update:modelValue",(e==null?void 0:e.toString())||"")}return B(()=>{x()}),(e,a)=>(n(),i(s(C),{"model-value":E.value,"onUpdate:modelValue":S},{default:r(()=>[m(s(D),null,{default:r(()=>[m(s(L),{placeholder:_.placeholder},null,8,["placeholder"])]),_:1}),m(s(N),null,{default:r(()=>[s(k)?(n(),i(s(d),{key:0,value:"loading",disabled:""},{default:r(()=>[...a[0]||(a[0]=[c("div",{class:"flex items-center gap-2"},[c("span",{class:"iconify hugeicons--loading-03 animate-spin"}),o(" Chargement... ")],-1)])]),_:1})):s(v)?(n(),i(s(d),{key:1,value:"error",disabled:""},{default:r(()=>[...a[1]||(a[1]=[c("div",{class:"flex items-center gap-2 text-red-500"},[c("span",{class:"iconify hugeicons--alert-circle"}),o(" Erreur de chargement ")],-1)])]),_:1})):!p.value||p.value.length===0?(n(),i(s(d),{key:2,value:"empty",disabled:""},{default:r(()=>[...a[2]||(a[2]=[o(" Aucun type de frais disponible ",-1)])]),_:1})):(n(),f(y,{key:3},[m(s(d),{value:"null",disabled:""},{default:r(()=>[...a[3]||(a[3]=[o("Aucun type",-1)])]),_:1}),(n(!0),f(y,null,j(p.value,l=>(n(),f(y,{key:(l==null?void 0:l.id)||Math.random()},[l&&l.id&&l.name?(n(),i(s(d),{key:0,value:String(l.id)},{default:r(()=>[o(w(l.name),1)]),_:2},1032,["value"])):G("",!0)],64))),128))],64))]),_:1})]),_:1},8,["model-value"]))}});export{P as _};
