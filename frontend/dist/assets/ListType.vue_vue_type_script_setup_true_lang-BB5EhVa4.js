import{d as k,A as $,p as A,c as b,f as d,z as w,w as t,y as n,B as C,C as E,D as N,E as L,x as m,i as c,J as u,b as f,G as T,F as j,o as r,t as D,h as G}from"./index-CJ_PivE-.js";import{_ as F}from"./SelectGroup.vue_vue_type_script_setup_true_lang-CwIOzTi6.js";import{u as O}from"./useGetApi-EdzHoZm6.js";const P={class:"flex flex-col space-y-1.5 flex-1"},J=k({__name:"ListSchool",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(x,{emit:v}){const s=x,y=v,{data:p,loading:h,error:g,fetchData:V}=O($.GET_SCHOOLS);V();const _=A(()=>s.modelValue===null||s.modelValue===void 0||s.modelValue===""?"":s.modelValue.toString());function S(i){i==="loading"||i==="error"||i==="empty"||y("update:modelValue",(i==null?void 0:i.toString())||"")}return(i,o)=>(r(),b("div",P,[d(w,{for:"school_id",class:"text-sm font-medium"},{default:t(()=>[...o[0]||(o[0]=[n(" Ecole ",-1)])]),_:1}),d(C,{id:"school_id",name:"school_id","model-value":_.value,"onUpdate:modelValue":S},{default:t(()=>[d(E,{id:"school_id",class:"h-10 w-full"},{default:t(()=>[d(N,{placeholder:s.placeholder||"Sélectionnez une école"},null,8,["placeholder"])]),_:1}),d(L,null,{default:t(()=>[d(F,null,{default:t(()=>[c(h)?(r(),m(u,{key:0,value:"loading",disabled:""},{default:t(()=>[...o[1]||(o[1]=[f("div",{class:"flex items-center gap-2"},[f("span",{class:"animate-spin h-4 w-4 border-2 border-gray-300 border-t-blue-600 rounded-full"}),n(" Chargement des écoles... ")],-1)])]),_:1})):c(g)?(r(),m(u,{key:1,value:"error",disabled:""},{default:t(()=>[...o[2]||(o[2]=[f("div",{class:"flex items-center gap-2 text-red-500"},[f("span",{class:"iconify hugeicons--alert-triangle"}),n(" Erreur de chargement ")],-1)])]),_:1})):!c(p)||c(p).length===0?(r(),m(u,{key:2,value:"empty",disabled:""},{default:t(()=>[...o[3]||(o[3]=[n(" Aucune école disponible ",-1)])]),_:1})):(r(!0),b(T,{key:3},j(c(p),e=>(r(),m(u,{key:e.id,value:String(e.id)},{default:t(()=>[n(D(e.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"])]))}}),z={class:"flex flex-col space-y-1.5 flex-1"},Y=k({__name:"ListFather",props:{modelValue:{}},emits:["update:modelValue"],setup(x,{emit:v}){const s=x,y=v,{data:p,loading:h,error:g,fetchData:V}=O($.GET_PARENTS);V();const _=A(()=>{const e=p.value;let a=[];return Array.isArray(e)?a=e:e!=null&&e.parents&&Array.isArray(e.parents)?a=e.parents:e!=null&&e.data&&Array.isArray(e.data)?a=e.data:e&&typeof e=="object"&&!Array.isArray(e)&&(a=Object.values(e).filter(l=>l&&typeof l=="object"&&l.id)),a.filter(l=>!l.gender||l.gender.toLowerCase()==="masculin"||l.gender.toLowerCase()==="male"||l.gender.toLowerCase()==="m").map(l=>({id:l.id,name:l.name||"",firstname:l.firstname||l.first_name||""}))}),S=A(()=>s.modelValue===null||s.modelValue===void 0||s.modelValue===""?"null":s.modelValue.toString());function i(e){const a=e.firstname||"",l=e.name||"";return`${a} ${l}`.trim()||`Parent #${e.id}`}function o(e){if(e==="null"||e==="loading"||e==="error"||e==="empty"){y("update:modelValue","");return}y("update:modelValue",(e==null?void 0:e.toString())||"")}return(e,a)=>(r(),b("div",z,[d(w,{for:"father_id",class:"text-sm font-medium"},{default:t(()=>[...a[0]||(a[0]=[n(" Père ",-1)])]),_:1}),d(C,{id:"father_id",name:"father_id","model-value":S.value,"onUpdate:modelValue":o},{default:t(()=>[d(E,{id:"father_id",class:"h-10 w-full"},{default:t(()=>[d(N,{placeholder:"Sélectionnez un père"})]),_:1}),d(L,null,{default:t(()=>[d(F,null,{default:t(()=>[c(h)?(r(),m(u,{key:0,value:"loading",disabled:""},{default:t(()=>[...a[1]||(a[1]=[f("div",{class:"flex items-center gap-2"},[f("span",{class:"animate-spin h-4 w-4 border-2 border-gray-300 border-t-blue-600 rounded-full"}),n(" Chargement des pères... ")],-1)])]),_:1})):c(g)?(r(),m(u,{key:1,value:"error",disabled:""},{default:t(()=>[...a[2]||(a[2]=[f("div",{class:"flex items-center gap-2 text-red-500"},[f("span",{class:"iconify hugeicons--alert-circle"}),n(" Erreur de chargement ")],-1)])]),_:1})):_.value.length===0?(r(),m(u,{key:2,value:"empty",disabled:""},{default:t(()=>[...a[3]||(a[3]=[n(" Aucun père disponible ",-1)])]),_:1})):G("",!0),d(u,{value:"null"},{default:t(()=>[...a[4]||(a[4]=[n(" Aucun père ",-1)])]),_:1}),(r(!0),b(T,null,j(_.value,l=>(r(),m(u,{key:l.id,value:l.id.toString()},{default:t(()=>[n(D(i(l)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"])]))}}),U={class:"flex flex-col space-y-1.5 flex-1"},q=k({__name:"ListFonctions",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(x,{emit:v}){const s=x,y=v,{data:p,loading:h,error:g,fetchData:V}=O($.GET_FONCTIONS);V();const _=A(()=>s.modelValue===null||s.modelValue===void 0||s.modelValue===""?"":s.modelValue.toString());function S(i){i==="loading"||i==="error"||i==="empty"||y("update:modelValue",(i==null?void 0:i.toString())||"")}return(i,o)=>(r(),b("div",U,[d(w,{for:"fonction_id",class:"text-sm font-medium"},{default:t(()=>[...o[0]||(o[0]=[n(" Fonctions ",-1)])]),_:1}),d(C,{id:"fonction_id",name:"fonction_id","model-value":_.value,"onUpdate:modelValue":S},{default:t(()=>[d(E,{id:"fonction_id",class:"h-10 w-full"},{default:t(()=>[d(N,{placeholder:s.placeholder||"Sélectionnez une fonction"},null,8,["placeholder"])]),_:1}),d(L,null,{default:t(()=>[d(F,null,{default:t(()=>[c(h)?(r(),m(u,{key:0,value:"loading",disabled:""},{default:t(()=>[...o[1]||(o[1]=[f("div",{class:"flex items-center gap-2"},[f("span",{class:"animate-spin h-4 w-4 border-2 border-gray-300 border-t-blue-600 rounded-full"}),n(" Chargement des fonctions... ")],-1)])]),_:1})):c(g)?(r(),m(u,{key:1,value:"error",disabled:""},{default:t(()=>[...o[2]||(o[2]=[f("div",{class:"flex items-center gap-2 text-red-500"},[f("span",{class:"iconify hugeicons--alert-triangle"}),n(" Erreur de chargement ")],-1)])]),_:1})):!c(p)||c(p).length===0?(r(),m(u,{key:2,value:"empty",disabled:""},{default:t(()=>[...o[3]||(o[3]=[n(" Aucune fonction disponible ",-1)])]),_:1})):(r(!0),b(T,{key:3},j(c(p),e=>(r(),m(u,{key:e.id,value:String(e.id)},{default:t(()=>[n(D(e.title||e.name||e.label||`Fonction #${e.id}`),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"])]))}}),B={class:"flex flex-col space-y-1.5 flex-1"},K=k({__name:"ListMother",props:{modelValue:{}},emits:["update:modelValue"],setup(x,{emit:v}){const s=x,y=v,{data:p,loading:h,error:g,fetchData:V}=O($.GET_PARENTS);V();const _=A(()=>{const e=p.value;let a=[];if(Array.isArray(e))a=e;else if(e&&typeof e=="object"&&"parents"in e){const l=e;Array.isArray(l.parents)&&(a=l.parents)}else if(e&&typeof e=="object"&&"data"in e){const l=e;Array.isArray(l.data)&&(a=l.data)}else e&&typeof e=="object"&&(a=Object.values(e).filter(l=>l&&typeof l=="object"&&"id"in l));return a.filter(l=>!l.gender||l.gender.toLowerCase()==="féminin"||l.gender.toLowerCase()==="female"||l.gender.toLowerCase()==="f").map(l=>({id:l.id,name:l.name||"",firstname:l.firstname||""}))}),S=A(()=>s.modelValue===null||s.modelValue===void 0||s.modelValue===""?"null":s.modelValue.toString());function i(e){const a=e.firstname||"",l=e.name||"";return`${a} ${l}`.trim()||`Parent #${e.id}`}function o(e){if(e==="null"||e==="loading"||e==="error"||e==="empty"){y("update:modelValue","");return}y("update:modelValue",(e==null?void 0:e.toString())||"")}return(e,a)=>(r(),b("div",B,[d(w,{for:"mother_id",class:"text-sm font-medium"},{default:t(()=>[...a[0]||(a[0]=[n(" Mère ",-1)])]),_:1}),d(C,{id:"mother_id",name:"mother_id","model-value":S.value,"onUpdate:modelValue":o},{default:t(()=>[d(E,{id:"mother_id",class:"h-10 w-full"},{default:t(()=>[d(N,{placeholder:"Sélectionnez une mère"})]),_:1}),d(L,null,{default:t(()=>[d(F,null,{default:t(()=>[c(h)?(r(),m(u,{key:0,value:"loading",disabled:""},{default:t(()=>[...a[1]||(a[1]=[f("div",{class:"flex items-center gap-2"},[f("span",{class:"animate-spin h-4 w-4 border-2 border-gray-300 border-t-blue-600 rounded-full"}),n(" Chargement des mères... ")],-1)])]),_:1})):c(g)?(r(),m(u,{key:1,value:"error",disabled:""},{default:t(()=>[...a[2]||(a[2]=[f("div",{class:"flex items-center gap-2 text-red-500"},[f("span",{class:"iconify hugeicons--alert-circle"}),n(" Erreur de chargement ")],-1)])]),_:1})):_.value.length===0?(r(),m(u,{key:2,value:"empty",disabled:""},{default:t(()=>[...a[3]||(a[3]=[n(" Aucune mère disponible ",-1)])]),_:1})):G("",!0),d(u,{value:"null"},{default:t(()=>[...a[4]||(a[4]=[n(" Aucune mère ",-1)])]),_:1}),(r(!0),b(T,null,j(_.value,l=>(r(),m(u,{key:l.id,value:l.id.toString()},{default:t(()=>[n(D(i(l)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"])]))}}),R={class:"flex flex-col space-y-1.5 flex-1"},Q=k({__name:"ListType",props:{modelValue:String},emits:["update:modelValue"],setup(x,{emit:v}){const s=v,{data:y,fetchData:p}=O($.GET_TYPES);p();function h(g){s("update:modelValue",g)}return(g,V)=>(r(),b("div",R,[d(w,{for:"type_id",class:"text-sm font-medium"},{default:t(()=>[...V[0]||(V[0]=[n(" Type ",-1)])]),_:1}),d(C,{id:"type_id",name:"type_id","model-value":x.modelValue,"onUpdate:modelValue":h},{default:t(()=>[d(E,{id:"type_id",class:"h-10 w-full"},{default:t(()=>[d(N,{placeholder:"Sélectionnez un type"})]),_:1}),d(L,null,{default:t(()=>[d(F,null,{default:t(()=>[(r(!0),b(T,null,j(c(y),_=>(r(),m(u,{key:_.id,value:_.id},{default:t(()=>[n(D(_.title),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"])]))}});export{Y as _,K as a,Q as b,q as c,J as d};
