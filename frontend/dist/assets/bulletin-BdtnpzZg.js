import{bi as _,r as M,p as O}from"./index-CJ_PivE-.js";const ae=_("bulletin",()=>{const y=M(null),b=M(null),w=M([]),E=M([]),p=M(""),x=M(""),r=M(null),q=O(()=>p.value?E.value.filter(t=>t.classeId===p.value):E.value),c=O(()=>E.value.find(t=>t.id===x.value)||null),h=O(()=>w.value.find(t=>t.id===p.value)||null),R=O(()=>!c.value||!h.value||!b.value?null:{eleve:c.value,classe:h.value,ecole:b.value,anneeScolaire:h.value.anneeScolaire}),z=t=>{y.value=t,G(t.ecoleId)},G=async t=>{const a={id:t,nom:"École Primaire Sainte Marie",code:"123456789012",provinceEducationnelle:"Kinshasa",ville:"Kinshasa",commune:"Gombe"};b.value=a,await k(t)},k=async t=>{const a=[{id:"7a",nom:"7ème A",niveau:"7eme",ecoleId:t,anneeScolaire:"2025-2026"},{id:"7b",nom:"7ème B",niveau:"7eme",ecoleId:t,anneeScolaire:"2025-2026"},{id:"7c",nom:"7ème C",niveau:"7eme",ecoleId:t,anneeScolaire:"2025-2026"},{id:"8a",nom:"8ème A",niveau:"8eme",ecoleId:t,anneeScolaire:"2025-2026"},{id:"8b",nom:"8ème B",niveau:"8eme",ecoleId:t,anneeScolaire:"2025-2026"},{id:"1ped",nom:"1ère Pédagogie",niveau:"1ere",filiere:"pedagogie",ecoleId:t,anneeScolaire:"2025-2026"},{id:"1lp",nom:"1ère Latin-Philo",niveau:"1ere",filiere:"latin-philo",ecoleId:t,anneeScolaire:"2025-2026"},{id:"1lg",nom:"1ère Latin-Grec",niveau:"1ere",filiere:"latin-grec",ecoleId:t,anneeScolaire:"2025-2026"},{id:"1sci",nom:"1ère Science",niveau:"1ere",filiere:"science",ecoleId:t,anneeScolaire:"2025-2026"},{id:"2ped",nom:"2ème Pédagogie",niveau:"2eme",filiere:"pedagogie",ecoleId:t,anneeScolaire:"2025-2026"},{id:"2lp",nom:"2ème Latin-Philo",niveau:"2eme",filiere:"latin-philo",ecoleId:t,anneeScolaire:"2025-2026"},{id:"2lg",nom:"2ème Latin-Grec",niveau:"2eme",filiere:"latin-grec",ecoleId:t,anneeScolaire:"2025-2026"},{id:"2sci",nom:"2ème Science",niveau:"2eme",filiere:"science",ecoleId:t,anneeScolaire:"2025-2026"},{id:"3ped",nom:"3ème Pédagogie",niveau:"3eme",filiere:"pedagogie",ecoleId:t,anneeScolaire:"2025-2026"},{id:"3lp",nom:"3ème Latin-Philo",niveau:"3eme",filiere:"latin-philo",ecoleId:t,anneeScolaire:"2025-2026"},{id:"3lg",nom:"3ème Latin-Grec",niveau:"3eme",filiere:"latin-grec",ecoleId:t,anneeScolaire:"2025-2026"},{id:"3sci",nom:"3ème Science",niveau:"3eme",filiere:"science",ecoleId:t,anneeScolaire:"2025-2026"},{id:"4ped",nom:"4ème Pédagogie",niveau:"4eme",filiere:"pedagogie",ecoleId:t,anneeScolaire:"2025-2026"},{id:"4lp",nom:"4ème Latin-Philo",niveau:"4eme",filiere:"latin-philo",ecoleId:t,anneeScolaire:"2025-2026"},{id:"4lg",nom:"4ème Latin-Grec",niveau:"4eme",filiere:"latin-grec",ecoleId:t,anneeScolaire:"2025-2026"},{id:"4sci",nom:"4ème Science",niveau:"4eme",filiere:"science",ecoleId:t,anneeScolaire:"2025-2026"}];w.value=a},K=async t=>{const a=(i,e,s,l,m,o,u)=>{var T;return{id:`${e}-${i}`,numeroId:`${i.toString().padStart(24,"0")}`,numeroPermanent:`${i.toString().padStart(14,"0")}`,nom:s,prenom:l,sexe:m,dateNaissance:u,lieuNaissance:o,classeId:e,ecoleId:((T=b.value)==null?void 0:T.id)||"",nomComplet:`${s} ${l}`,age:new Date().getFullYear()-u.getFullYear()}},n=[];switch(t){case"7a":n.push(a(701,t,"Kasongo","Muleka Isaac","M","Kinshasa",new Date("2012-05-15")),a(702,t,"Kalombo","Ilunga Lois","F","Lubumbashi",new Date("2012-08-22")));break;case"7b":n.push(a(703,t,"Mbuyi","Kabongo Jean","M","Mbuji-Mayi",new Date("2012-03-10")),a(704,t,"Tshimanga","Mukendi Marie","F","Kananga",new Date("2012-07-18")));break;case"7c":n.push(a(705,t,"Ngoy","Kabamba Paul","M","Kolwezi",new Date("2012-01-25")),a(706,t,"Ilunga","Mwamba Grace","F","Likasi",new Date("2012-11-03")));break;case"8a":n.push(a(801,t,"Kabongo","Tshiaba David","M","Kinshasa",new Date("2011-04-12")),a(802,t,"Mukendi","Kalala Sarah","F","Mbuji-Mayi",new Date("2011-09-08")));break;case"8b":n.push(a(803,t,"Tshiaba","Ngoy Michel","M","Lubumbashi",new Date("2011-06-20")),a(804,t,"Mwamba","Kabila Esther","F","Goma",new Date("2011-12-15")));break;case"1ped":n.push(a(101,t,"Kabila","Mwenze André","M","Kinshasa",new Date("2010-02-28")),a(102,t,"Kalala","Tshimanga Joséphine","F","Kananga",new Date("2010-05-14")));break;case"1lp":n.push(a(103,t,"Mwenze","Kabongo Olivier","M","Lubumbashi",new Date("2010-08-07")),a(104,t,"Tshimanga","Ngoy Claudine","F","Kolwezi",new Date("2010-11-22")));break;case"1lg":n.push(a(105,t,"Ngoy","Mwamba Éric","M","Likasi",new Date("2010-01-16")),a(106,t,"Kabamba","Ilunga Béatrice","F","Mbuji-Mayi",new Date("2010-04-30")));break;case"1sci":n.push(a(107,t,"Mwamba","Tshiaba François","M","Goma",new Date("2010-07-11")),a(108,t,"Ilunga","Mukendi Véronique","F","Kinshasa",new Date("2010-10-05")));break;case"2ped":n.push(a(201,t,"Tshiaba","Kalala Augustin","M","Kananga",new Date("2009-03-18")),a(202,t,"Mukendi","Kabongo Sylvie","F","Lubumbashi",new Date("2009-06-25")));break;case"2lp":n.push(a(203,t,"Kalala","Ngoy Patrice","M","Kolwezi",new Date("2009-09-12")),a(204,t,"Kabongo","Mwamba Henriette","F","Likasi",new Date("2009-12-08")));break;case"2lg":n.push(a(205,t,"Ngoy","Ilunga Théodore","M","Mbuji-Mayi",new Date("2009-02-14")),a(206,t,"Mwamba","Tshimanga Angélique","F","Goma",new Date("2009-05-27")));break;case"2sci":n.push(a(205,t,"Ngoy","Ilunga Théodore","M","Mbuji-Mayi",new Date("2009-02-14")),a(206,t,"Mwamba","Tshimanga Angélique","F","Goma",new Date("2009-05-27")));break;case"3ped":n.push(a(301,t,"Ilunga","Kabila Germain","M","Kinshasa",new Date("2008-04-09")),a(302,t,"Tshimanga","Kalala Marguerite","F","Kananga",new Date("2008-07-16")));break;case"3lp":n.push(a(303,t,"Kabongo","Mukendi Léonard","M","Lubumbashi",new Date("2008-10-23")),a(304,t,"Kalala","Ngoy Bernadette","F","Kolwezi",new Date("2008-01-30")));break;case"3lg":n.push(a(305,t,"Ngoy","Mwamba Alphonse","M","Likasi",new Date("2008-08-06")),a(306,t,"Mwamba","Ilunga Célestine","F","Mbuji-Mayi",new Date("2008-11-13")));break;case"3sci":n.push(a(305,t,"Ngoy","Mwamba Alphonse","M","Likasi",new Date("2008-08-06")),a(306,t,"Mwamba","Ilunga Célestine","F","Mbuji-Mayi",new Date("2008-11-13")));break;case"4ped":n.push(a(401,t,"Ilunga","Tshiaba Dominique","M","Goma",new Date("2007-05-21")),a(402,t,"Tshimanga","Kabongo Antoinette","F","Kinshasa",new Date("2007-08-28")));break;case"4lp":n.push(a(403,t,"Kabongo","Kalala Sébastien","M","Kananga",new Date("2007-11-04")),a(404,t,"Kalala","Mukendi Philomène","F","Lubumbashi",new Date("2007-02-17")));break;case"4lg":n.push(a(405,t,"Ngoy","Ilunga Maximilien","M","Kolwezi",new Date("2007-06-10")),a(406,t,"Mwamba","Tshimanga Rosalie","F","Likasi",new Date("2007-09-26")));break;case"4sci":n.push(a(405,t,"Ngoy","Ilunga Maximilien","M","Kolwezi",new Date("2007-06-10")),a(406,t,"Mwamba","Tshimanga Rosalie","F","Likasi",new Date("2007-09-26")));break;default:console.warn(`Aucun eleve dans la classe :, ${t}`);break}n.forEach(i=>{E.value.findIndex(s=>s.id===i.id)===-1&&E.value.push(i)})},H=async t=>{p.value=t,x.value="",await K(t)},Q=t=>{x.value=t},A=(t,a)=>t.padEnd(a," ").split("").slice(0,a),j=O(()=>c.value?A(c.value.numeroId,24):Array(24).fill("")),V=O(()=>c.value?A(c.value.numeroPermanent,14):Array(14).fill("")),$=O(()=>b.value?A(b.value.code,12):Array(12).fill("")),P=()=>{if(!r.value)return;let t=0,a=0,n=0,i=0,e=0,s=0,l=0,m=0,o=0,u=0,T=0,B=0,C=0;r.value.domaines.forEach(X=>{X.sousDomaines.forEach(Z=>{Z.matieres.forEach(v=>{let f=0;[v.trimestre1,v.trimestre2,v.trimestre3].forEach((g,L)=>{const d=Math.max(0,g.periode1||0),S=Math.max(0,g.periode2||0),U=d+S;g.ptsObtPer=U;const N=Math.max(0,g.ptsObtExam||0),D=U+N;g.ptsObtTrim=D,f+=D,L===0?(a+=D,e+=d,s+=S,l+=N):L===1?(n+=D,m+=d,o+=S,u+=N):L===2&&(i+=D,T+=d,B+=S,C+=N)}),v.totalObtenu=f,t+=f})})}),r.value.totalGeneral.totalObtenu=t,r.value.totalGeneral.totalObtenuTrim1=a,r.value.totalGeneral.totalObtenuTrim2=n,r.value.totalGeneral.totalObtenuTrim3=i,r.value.totalGeneral.totalObtenuPer1Trim1=e,r.value.totalGeneral.totalObtenuPer2Trim1=s,r.value.totalGeneral.totalObtenuExamTrim1=l,r.value.totalGeneral.totalObtenuPer1Trim2=m,r.value.totalGeneral.totalObtenuPer2Trim2=o,r.value.totalGeneral.totalObtenuExamTrim2=u,r.value.totalGeneral.totalObtenuPer1Trim3=T,r.value.totalGeneral.totalObtenuPer2Trim3=B,r.value.totalGeneral.totalObtenuExamTrim3=C;const F=r.value.totalGeneral.totalMax,Y=F>0?Math.round(t/F*100):0;r.value.totalGeneral.pourcentage=Math.min(Math.max(0,Y),100)},J=(t,a,n)=>{const i=(l,m="bon")=>{let o;switch(m){case"excellent":o=.85+Math.random()*.15;break;case"bon":o=.7+Math.random()*.2;break;case"moyen":o=.5+Math.random()*.3;break;case"faible":o=.3+Math.random()*.4;break}return Math.round(l*o)},e=(l,m,o,u="bon")=>({periode1:i(l,u),periode2:i(l,u),maxPer:l,maxExam:m,ptsObtPer:0,ptsObtExam:i(m,u),maxTrim:o,ptsObtTrim:0}),s=[{nom:"DOMAINE DES LANGUES",sousDomaines:[{nom:"LANGUES CONGOLAISES",matieres:[{nom:"Expression Orale",trimestre1:e(20,40,80,"bon"),trimestre2:e(20,40,80,"excellent"),trimestre3:e(20,40,80,"bon"),totalMax:240,totalObtenu:0},{nom:"Expression Ecrite",trimestre1:e(20,40,80,"moyen"),trimestre2:e(20,40,80,"bon"),trimestre3:e(20,40,80,"bon"),totalMax:240,totalObtenu:0}]},{nom:"FRANCAIS",matieres:[{nom:"Vocabulaire",trimestre1:e(20,40,80,"excellent"),trimestre2:e(20,40,80,"bon"),trimestre3:e(20,40,80,"excellent"),totalMax:240,totalObtenu:0},{nom:"Grammaire",trimestre1:e(20,40,80,"bon"),trimestre2:e(20,40,80,"bon"),trimestre3:e(20,40,80,"moyen"),totalMax:240,totalObtenu:0}]}]},{nom:"DOMAINE DES MATHEMATIQUES",sousDomaines:[{nom:"MATHEMATIQUES",matieres:[{nom:"Mesures des grandeurs",trimestre1:e(20,40,80,"excellent"),trimestre2:e(20,40,80,"excellent"),trimestre3:e(20,40,80,"bon"),totalMax:240,totalObtenu:0},{nom:"Formes géométriques",trimestre1:e(10,20,40,"bon"),trimestre2:e(10,20,40,"moyen"),trimestre3:e(10,20,40,"bon"),totalMax:120,totalObtenu:0},{nom:"Numération",trimestre1:e(20,40,80,"excellent"),trimestre2:e(20,40,80,"bon"),trimestre3:e(20,40,80,"excellent"),totalMax:240,totalObtenu:0},{nom:"Opérations",trimestre1:e(20,40,80,"bon"),trimestre2:e(20,40,80,"excellent"),trimestre3:e(20,40,80,"bon"),totalMax:240,totalObtenu:0},{nom:"Problèmes",trimestre1:e(20,40,80,"moyen"),trimestre2:e(20,40,80,"bon"),trimestre3:e(20,40,80,"bon"),totalMax:240,totalObtenu:0}]}]},{nom:"DOMAINE DES SCIENCES",sousDomaines:[{nom:"SCIENCES",matieres:[{nom:"Sciences d'éveil",trimestre1:e(20,40,80,"bon"),trimestre2:e(20,40,80,"excellent"),trimestre3:e(20,40,80,"bon"),totalMax:240,totalObtenu:0}]}]},{nom:"DOMAINE DE LA TECHNOLOGIE",sousDomaines:[{nom:"TECHNOLOGIE",matieres:[{nom:"Technologie",trimestre1:e(10,20,40,"bon"),trimestre2:e(10,20,40,"bon"),trimestre3:e(10,20,40,"excellent"),totalMax:120,totalObtenu:0}]}]},{nom:"DOMAINE DE L'EDUCATION ARTISTIQUE",sousDomaines:[{nom:"EDUCATION ARTISTIQUE",matieres:[{nom:"Education musicale",trimestre1:e(20,40,80,"excellent"),trimestre2:e(20,40,80,"excellent"),trimestre3:e(20,40,80,"bon"),totalMax:240,totalObtenu:0},{nom:"Education plastique",trimestre1:e(20,40,80,"bon"),trimestre2:e(20,40,80,"bon"),trimestre3:e(20,40,80,"excellent"),totalMax:240,totalObtenu:0}]}]},{nom:"DOMAINE DU DEVELOPPEMENT PERSONNEL",sousDomaines:[{nom:"DEVELOPPEMENT PERSONNEL",matieres:[{nom:"Education civique et morale",trimestre1:e(10,20,40,"excellent"),trimestre2:e(10,20,40,"bon"),trimestre3:e(10,20,40,"excellent"),totalMax:120,totalObtenu:0},{nom:"Education physique",trimestre1:e(10,20,40,"bon"),trimestre2:e(10,20,40,"excellent"),trimestre3:e(10,20,40,"bon"),totalMax:120,totalObtenu:0},{nom:"Activités pratiques",trimestre1:e(10,20,40,"bon"),trimestre2:e(10,20,40,"bon"),trimestre3:e(10,20,40,"excellent"),totalMax:120,totalObtenu:0}]}]}];return{eleveId:t,classeId:a,anneeScolaire:n,domaines:s,application:{trimestre1:{periode1:"B",periode2:"TB",examen:"B",trimestre:"B"},trimestre2:{periode1:"TB",periode2:"B",examen:"TB",trimestre:"TB"},trimestre3:{periode1:"B",periode2:"B",examen:"TB",trimestre:"B"}},conduite:{trimestre1:{periode1:"TB",periode2:"TB",examen:"B",trimestre:"TB"},trimestre2:{periode1:"B",periode2:"TB",examen:"B",trimestre:"B"},trimestre3:{periode1:"TB",periode2:"TB",examen:"TB",trimestre:"TB"}},totalGeneral:{maxPerTrimestre:170,maxExamTrimestre:340,maxTrimTrimestre:680,totalMax:2040,totalObtenu:0,totalObtenuTrim1:0,totalObtenuTrim2:0,totalObtenuTrim3:0,totalObtenuPer1Trim1:0,totalObtenuPer2Trim1:0,totalObtenuExamTrim1:0,totalObtenuPer1Trim2:0,totalObtenuPer2Trim2:0,totalObtenuExamTrim2:0,totalObtenuPer1Trim3:0,totalObtenuPer2Trim3:0,totalObtenuExamTrim3:0,pourcentage:0}}},W=(t,a,n)=>{const i=()=>({trimestre1:{periode1:null,periode2:null,examen:null,trimestre:null},trimestre2:{periode1:null,periode2:null,examen:null,trimestre:null},trimestre3:{periode1:null,periode2:null,examen:null,trimestre:null}}),e=(l,m,o)=>({periode1:null,periode2:null,maxPer:l,maxExam:m,ptsObtPer:0,ptsObtExam:null,maxTrim:o,ptsObtTrim:0}),s=[{nom:"DOMAINE DES LANGUES",sousDomaines:[{nom:"LANGUES CONGOLAISES",matieres:[{nom:"Expression Orale",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0},{nom:"Expression Ecrite",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0}]},{nom:"FRANCAIS",matieres:[{nom:"Vocabulaire",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0},{nom:"Grammaire",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0}]}]},{nom:"DOMAINE DES MATHEMATIQUES",sousDomaines:[{nom:"MATHEMATIQUES",matieres:[{nom:"Mesures des grandeurs",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0},{nom:"Formes géométriques",trimestre1:e(10,20,40),trimestre2:e(10,20,40),trimestre3:e(10,20,40),totalMax:120,totalObtenu:0},{nom:"Numération",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0},{nom:"Opérations",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0},{nom:"Problèmes",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0}]}]},{nom:"DOMAINE DES SCIENCES",sousDomaines:[{nom:"SCIENCES",matieres:[{nom:"Sciences d'éveil",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0}]}]},{nom:"DOMAINE DE LA TECHNOLOGIE",sousDomaines:[{nom:"TECHNOLOGIE",matieres:[{nom:"Technologie",trimestre1:e(10,20,40),trimestre2:e(10,20,40),trimestre3:e(10,20,40),totalMax:120,totalObtenu:0}]}]},{nom:"DOMAINE DE L'EDUCATION ARTISTIQUE",sousDomaines:[{nom:"EDUCATION ARTISTIQUE",matieres:[{nom:"Education musicale",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0},{nom:"Education plastique",trimestre1:e(20,40,80),trimestre2:e(20,40,80),trimestre3:e(20,40,80),totalMax:240,totalObtenu:0}]}]},{nom:"DOMAINE DU DEVELOPPEMENT PERSONNEL",sousDomaines:[{nom:"DEVELOPPEMENT PERSONNEL",matieres:[{nom:"Education civique",trimestre1:e(10,20,40),trimestre2:e(10,20,40),trimestre3:e(10,20,40),totalMax:120,totalObtenu:0},{nom:"Education à la vie",trimestre1:e(10,20,40),trimestre2:e(10,20,40),trimestre3:e(10,20,40),totalMax:120,totalObtenu:0},{nom:"Education physique",trimestre1:e(10,20,40),trimestre2:e(10,20,40),trimestre3:e(10,20,40),totalMax:120,totalObtenu:0}]}]}];return{eleveId:t,classeId:a,anneeScolaire:n,domaines:s,application:i(),conduite:i(),totalGeneral:{maxPerTrimestre:170,maxExamTrimestre:340,maxTrimTrimestre:680,totalMax:2040,totalObtenu:0,totalObtenuTrim1:0,totalObtenuTrim2:0,totalObtenuTrim3:0,totalObtenuPer1Trim1:0,totalObtenuPer2Trim1:0,totalObtenuExamTrim1:0,totalObtenuPer1Trim2:0,totalObtenuPer2Trim2:0,totalObtenuExamTrim2:0,totalObtenuPer1Trim3:0,totalObtenuPer2Trim3:0,totalObtenuExamTrim3:0,pourcentage:0}}};return{currentUser:y,currentEcole:b,classes:w,eleves:E,selectedClasseId:p,selectedEleveId:x,bulletinNotes:r,elevesFiltered:q,selectedEleve:c,selectedClasse:h,bulletinData:R,getNumeroIdArray:j,getNumeroPermanentArray:V,getCodeEcoleArray:$,setCurrentUser:z,selectClasse:H,selectEleve:Q,loadEcoleByUserId:G,loadClassesByEcole:k,loadElevesByClasse:K,initializeBulletinNotes:(t,a,n)=>{t==="3"?r.value=J(t,a,n):r.value=W(t,a,n),P()},updateNoteMatiere:(t,a,n,i,e,s)=>{if(!r.value)return;const l=r.value.domaines[t];if(!l)return;const m=l.sousDomaines[a];if(!m)return;const o=m.matieres[n];if(!o)return;const u=o[i];u[e]=s,P()},calculateTotals:P}});export{ae as u};
