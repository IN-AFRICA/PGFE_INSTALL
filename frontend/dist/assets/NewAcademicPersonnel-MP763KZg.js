import{d as Me,p as ve,x as $e,w as t,f as r,b as v,a0 as Ne,I as Se,o as s,A as Ae,s as xe,a as Ce,c as i,h as o,i as e,z as _,y as f,j as u,t as d,B as ge,C as ye,D as be,E as ke,J as x,k as ze,g as Fe}from"./index-CJ_PivE-.js";import{_ as Be}from"./FormSection.vue_vue_type_script_setup_true_lang-C-XSdIg3.js";import{I as m}from"./InputWrapper-tSRHzcjN.js";import{S as c}from"./SpanRequired-COKghTUX.js";import{_ as De}from"./DashLayoutWithMode.vue_vue_type_script_setup_true_lang-DzpyZ4TL.js";import{_ as Pe}from"./FormPageHeader.vue_vue_type_script_setup_true_lang-CAg7Z6LS.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-B9adgRZV.js";import{_ as Ee}from"./SelectGroup.vue_vue_type_script_setup_true_lang-CwIOzTi6.js";import{S as Re}from"./Spinner-BZtQf9oC.js";import{u as Te}from"./usePostApi-Crg8MURP.js";import{e as je}from"./eventBus-CGRXT3Tn.js";import{_ as Le}from"./ListAcademicalLevel.vue_vue_type_script_setup_true_lang-DMWuvuYJ.js";import{_ as he,a as Ge,b as Oe,c as We}from"./ListTerritory.vue_vue_type_script_setup_true_lang-9aLGTqa6.js";import{_ as Je,a as Ke,b as He,c as Qe,d as Xe}from"./ListType.vue_vue_type_script_setup_true_lang-BB5EhVa4.js";import{u as Ye,a as p,t as Ze}from"./vee-validate-zod-Bra4yLtR.js";import{z as n}from"./external-CYeExkxg.js";import"./BoxPanelWrapper.vue_vue_type_script_setup_true_lang-CmJ-Iy6y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./RightDashHeader.vue_vue_type_script_setup_true_lang-Bn3G870_.js";import"./index-BpkKmY4O.js";import"./useGetApi-EdzHoZm6.js";const el=Me({__name:"DashStudentFormLayout",props:{group:{},activeTagName:{},noAnimatedWrapper:{type:Boolean},currentMode:{},linkBack:{},title:{}},setup(y){const k=y,M={saisie:"/apprenants/saisie-prealable",saisieNonformel:"/apprenants/saisie-prealable",operations:"/apprenants/operations",operationNonFormel:"/apprenants/operations"},$={saisie:"/apprenants/formations",operations:"/apprenants/inscriptions",saisieNonformel:"/apprenants/formations",operationNonFormel:"/apprenants/inscriptions"},z=ve(()=>M[k.group]),b=ve(()=>$[k.group]);return(E,g)=>(s(),$e(De,{"current-mode":y.currentMode,"active-route":z.value,"module-name":"students","non-formel-link":b.value},{default:t(()=>[r(Se,{class:"flex flex-col space-y-2"},{default:t(()=>[r(Pe,{title:y.title,"link-back":y.linkBack},null,8,["title","link-back"]),g[0]||(g[0]=v("div",{class:"flex pt-1"},null,-1)),Ne(E.$slots,"default")]),_:3})]),_:3},8,["current-mode","active-route","non-formel-link"]))}}),ll={key:0,class:"text-xs text-red-500"},rl={key:0,class:"text-xs text-red-500"},tl={key:0,class:"text-xs text-red-500"},al={key:0,class:"text-xs text-red-500"},sl={key:0,class:"text-xs text-red-500"},il={key:0,class:"text-xs text-red-500"},nl={key:0,class:"text-xs text-red-500"},ol={key:0,class:"text-xs text-red-500"},ul={key:0,class:"text-xs text-red-500"},dl={key:0,class:"text-xs text-red-500"},ml={key:0,class:"text-xs text-red-500"},pl={key:0,class:"text-xs text-red-500"},fl={key:0,class:"text-xs text-red-500"},_l={key:0,class:"text-xs text-red-500"},cl={key:0,class:"text-xs text-red-500"},Vl={key:0,class:"text-xs text-red-500"},vl={key:0,class:"text-xs text-red-500"},xl={key:0,class:"text-xs text-red-500"},gl={key:0,class:"text-xs text-red-500"},yl={key:0,class:"text-xs text-red-500"},bl={key:0,class:"text-xs text-red-500"},kl={key:0,class:"text-xs text-red-500"},zl={class:"flex items-center justify-end gap-2"},El={key:0,class:"flex items-center gap-2"},Ml={key:1},$l={class:"flex items-center gap-2"},Kl=Me({__name:"NewAcademicPersonnel",setup(y){const k=Ce(),M=n.object({country_id:n.number({required_error:"Veuillez sélectionner le pays"}).min(1,"Veuillez sélectionner le pays"),province_id:n.number({required_error:"Veuillez sélectionner la province"}).min(1,"Veuillez sélectionner la province"),territory_id:n.number({required_error:"Veuillez sélectionner le territoire"}).min(1,"Veuillez sélectionner le territoire"),commune_id:n.number({required_error:"Veuillez sélectionner la commune"}).min(1,"Veuillez sélectionner la commune"),school_id:n.number({required_error:"Veuillez sélectionner l'école"}).min(1,"Veuillez sélectionner l'école"),type_id:n.number({required_error:"Veuillez sélectionner le type"}).min(1,"Veuillez sélectionner le type"),father_id:n.number({required_error:"Veuillez sélectionner le père"}).min(1,"Veuillez sélectionner le père"),mother_id:n.number({required_error:"Veuillez sélectionner la mère"}).min(1,"Veuillez sélectionner la mère"),academic_level_id:n.number({required_error:"Veuillez sélectionner le niveau scolaire"}).min(1,"Veuillez sélectionner le niveau scolaire"),fonction_id:n.number({required_error:"Veuillez sélectionner la fonction"}).min(1,"Veuillez sélectionner la fonction"),matricule:n.string({required_error:"Veuillez saisir le matricule"}).min(2).max(100),name:n.string({required_error:"Veuillez saisir le nom"}).min(2).max(100),firstname:n.string({required_error:"Veuillez saisir le prénom"}).min(2).max(100),lastname:n.string({required_error:"Veuillez saisir le post nom"}).min(2).max(100),phone_number:n.string({required_error:"Veuillez saisir le numéro de téléphone"}).min(2).max(30),email:n.string({required_error:"Veuillez saisir l'email"}).email("Email invalide"),identity_card:n.string({required_error:"Veuillez saisir le numéro de carte d'identité"}).min(2).max(100),gender:n.string({required_error:"Veuillez sélectionner le genre"}).min(1,"Veuillez sélectionner le genre"),civil_status:n.string({required_error:"Veuillez sélectionner l'état civil"}).min(1,"Veuillez sélectionner l'état civil"),birth_date:n.string({required_error:"Veuillez saisir la date de naissance"}).min(1,"Veuillez saisir la date de naissance"),birth_place:n.string({required_error:"Veuillez saisir le lieu de naissance"}).min(2).max(100),address:n.string({required_error:"Veuillez saisir l'adresse"}).min(2).max(255)}),{handleSubmit:$,resetForm:z}=Ye({validationSchema:Ze(M)}),{value:b,errorMessage:E}=p("country_id",void 0,{initialValue:""}),{value:g,errorMessage:Q}=p("province_id",void 0,{initialValue:""}),{value:U,errorMessage:X}=p("territory_id",void 0,{initialValue:""}),{value:q,errorMessage:w}=p("commune_id",void 0,{initialValue:""}),{value:I,errorMessage:Y}=p("school_id",void 0,{initialValue:""}),{value:N,errorMessage:Z}=p("type_id",void 0,{initialValue:""}),{value:S,errorMessage:A}=p("father_id",void 0,{initialValue:""}),{value:C,errorMessage:F}=p("mother_id",void 0,{initialValue:""}),{value:B,errorMessage:ee}=p("academic_level_id",void 0,{initialValue:""}),{value:D,errorMessage:le}=p("fonction_id",void 0,{initialValue:""}),{value:P,errorMessage:re}=p("matricule",void 0,{initialValue:""}),{value:R,errorMessage:te}=p("name",void 0,{initialValue:""}),{value:T,errorMessage:ae}=p("firstname",void 0,{initialValue:""}),{value:j,errorMessage:se}=p("lastname",void 0,{initialValue:""}),{value:L,errorMessage:ie}=p("phone_number",void 0,{initialValue:""}),{value:h,errorMessage:ne}=p("email",void 0,{initialValue:""}),{value:G,errorMessage:oe}=p("identity_card",void 0,{initialValue:""}),{value:O,errorMessage:ue}=p("gender",void 0,{initialValue:""}),{value:W,errorMessage:de}=p("civil_status",void 0,{initialValue:""}),{value:J,errorMessage:me}=p("birth_date",void 0,{initialValue:""}),{value:K,errorMessage:pe}=p("birth_place",void 0,{initialValue:""}),{value:H,errorMessage:fe}=p("address",void 0,{initialValue:""}),{loading:Ue,error:_e,response:qe,postData:we,success:Ie}=Te(),ce=$(async Ve=>{var l;if(await we(Ae.CREATE_PERSONNAL_ACADEMIC,Ve),je.emit("studentUpdated"),_e.value){xe({message:_e.value,type:"error"});return}else Ie.value&&(xe({message:((l=qe.value)==null?void 0:l.message)||"Personnel scolaire ajouté avec succès",type:"success"}),z(),k.push("/apprenants/operations"))});return(Ve,l)=>(s(),$e(el,{title:"Ajouter un nouveau personnel scolaire","link-back":"apprenants/saisie-prealable/academic-personnal","current-mode":"formel",group:"operations","active-tag-name":"inscription"},{default:t(()=>[v("form",{class:"w-full flex flex-col space-y-8",onSubmit:l[22]||(l[22]=Fe((...a)=>e(ce)&&e(ce)(...a),["prevent"]))},[r(Be,{class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-y-6 gap-x-10",title:"Informations personnelles"},{default:t(()=>[r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[23]||(l[23]=f(" Matricule ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-md",placeholder:"Isaac",modelValue:e(P),"onUpdate:modelValue":l[0]||(l[0]=a=>u(P)?P.value=a:null)},null,8,["modelValue"]),e(re)?(s(),i("span",ll,d(e(re)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[24]||(l[24]=f(" Nom ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-md",placeholder:"Kasongo",modelValue:e(R),"onUpdate:modelValue":l[1]||(l[1]=a=>u(R)?R.value=a:null)},null,8,["modelValue"]),e(te)?(s(),i("span",rl,d(e(te)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[25]||(l[25]=f(" Post nom ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-md",placeholder:"Muleka",modelValue:e(j),"onUpdate:modelValue":l[2]||(l[2]=a=>u(j)?j.value=a:null)},null,8,["modelValue"]),e(se)?(s(),i("span",tl,d(e(se)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[26]||(l[26]=f(" Prenom ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-md",placeholder:"Isaac",modelValue:e(T),"onUpdate:modelValue":l[3]||(l[3]=a=>u(T)?T.value=a:null)},null,8,["modelValue"]),e(ae)?(s(),i("span",al,d(e(ae)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[27]||(l[27]=f(" Genre ",-1)),r(c)]),_:1}),r(e(ge),{modelValue:e(O),"onUpdate:modelValue":l[4]||(l[4]=a=>u(O)?O.value=a:null)},{default:t(()=>[r(e(ye),{id:"genre",class:"!h-10 bg-white w-full"},{default:t(()=>[r(e(be),{placeholder:"Sélectionner le genre"})]),_:1}),r(e(ke),null,{default:t(()=>[r(e(Ee),null,{default:t(()=>[r(e(x),{value:"Masculin"},{default:t(()=>[...l[28]||(l[28]=[f("Masculin",-1)])]),_:1}),r(e(x),{value:"Féminin"},{default:t(()=>[...l[29]||(l[29]=[f("Feminin",-1)])]),_:1}),r(e(x),{value:"Non spécifié"},{default:t(()=>[...l[30]||(l[30]=[f("Non spécifié",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ue)?(s(),i("span",sl,d(e(ue)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[31]||(l[31]=f(" Etat civil ",-1)),r(c)]),_:1}),r(e(ge),{modelValue:e(W),"onUpdate:modelValue":l[5]||(l[5]=a=>u(W)?W.value=a:null)},{default:t(()=>[r(e(ye),{id:"etat-civil",class:"!h-10 bg-white w-full"},{default:t(()=>[r(e(be),{placeholder:"Sélectionner l'état civil"})]),_:1}),r(e(ke),null,{default:t(()=>[r(e(Ee),null,{default:t(()=>[r(e(x),{value:"Célibataire"},{default:t(()=>[...l[32]||(l[32]=[f("Célibataire",-1)])]),_:1}),r(e(x),{value:"'Marié(e)"},{default:t(()=>[...l[33]||(l[33]=[f("Marié(e)",-1)])]),_:1}),r(e(x),{value:"Divorcé(e)"},{default:t(()=>[...l[34]||(l[34]=[f("Divorcé(e)",-1)])]),_:1}),r(e(x),{value:"Veuf/Veuve"},{default:t(()=>[...l[35]||(l[35]=[f("Veuf(ve)",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(de)?(s(),i("span",il,d(e(de)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[36]||(l[36]=f(" Date de naissance ",-1)),r(c)]),_:1}),r(e(V),{type:"date",class:"bg-white transition-all h-10 rounded-md",placeholder:"Muleka",modelValue:e(J),"onUpdate:modelValue":l[6]||(l[6]=a=>u(J)?J.value=a:null)},null,8,["modelValue"]),e(me)?(s(),i("span",nl,d(e(me)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[37]||(l[37]=f(" Lieu de naissance ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-md",modelValue:e(K),"onUpdate:modelValue":l[7]||(l[7]=a=>u(K)?K.value=a:null)},null,8,["modelValue"]),e(pe)?(s(),i("span",ol,d(e(pe)),1)):o("",!0)]),_:1}),r(m,{error:e(A)},{default:t(()=>[r(Je,{modelValue:e(S),"onUpdate:modelValue":l[8]||(l[8]=a=>u(S)?S.value=a:null)},null,8,["modelValue"]),e(A)?(s(),i("span",ul,d(e(A)),1)):o("",!0)]),_:1},8,["error"]),r(m,{error:e(F)},{default:t(()=>[r(Ke,{modelValue:e(C),"onUpdate:modelValue":l[9]||(l[9]=a=>u(C)?C.value=a:null)},null,8,["modelValue"]),e(F)?(s(),i("span",dl,d(e(F)),1)):o("",!0)]),_:1},8,["error"]),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[38]||(l[38]=f(" No carte identité ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-md",modelValue:e(G),"onUpdate:modelValue":l[10]||(l[10]=a=>u(G)?G.value=a:null)},null,8,["modelValue"]),e(oe)?(s(),i("span",ml,d(e(oe)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[39]||(l[39]=f(" Téléphone ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-m d",modelValue:e(L),"onUpdate:modelValue":l[11]||(l[11]=a=>u(L)?L.value=a:null)},null,8,["modelValue"]),e(ie)?(s(),i("span",pl,d(e(ie)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[40]||(l[40]=f(" Adresse email ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-md",modelValue:e(h),"onUpdate:modelValue":l[12]||(l[12]=a=>u(h)?h.value=a:null)},null,8,["modelValue"]),e(ne)?(s(),i("span",fl,d(e(ne)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(he,{modelValue:e(b),"onUpdate:modelValue":l[13]||(l[13]=a=>u(b)?b.value=a:null)},null,8,["modelValue"]),e(E)?(s(),i("span",_l,d(e(E)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(Ge,{modelValue:e(g),"onUpdate:modelValue":l[14]||(l[14]=a=>u(g)?g.value=a:null)},null,8,["modelValue"]),e(Q)?(s(),i("span",cl,d(e(Q)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(Oe,{modelValue:e(U),"onUpdate:modelValue":l[15]||(l[15]=a=>u(U)?U.value=a:null)},null,8,["modelValue"]),e(X)?(s(),i("span",Vl,d(e(X)),1)):o("",!0)]),_:1}),r(m,{error:e(w)},{default:t(()=>[r(We,{modelValue:e(q),"onUpdate:modelValue":l[16]||(l[16]=a=>u(q)?q.value=a:null)},null,8,["modelValue"]),e(w)?(s(),i("span",vl,d(e(w)),1)):o("",!0)]),_:1},8,["error"]),r(m,null,{default:t(()=>[r(e(_),{class:"text-sm"},{default:t(()=>[l[41]||(l[41]=f(" Adresse ",-1)),r(c)]),_:1}),r(e(V),{class:"bg-white transition-all h-10 rounded-md",modelValue:e(H),"onUpdate:modelValue":l[17]||(l[17]=a=>u(H)?H.value=a:null)},null,8,["modelValue"]),e(fe)?(s(),i("span",xl,d(e(fe)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(He,{modelValue:e(N),"onUpdate:modelValue":l[18]||(l[18]=a=>u(N)?N.value=a:null)},null,8,["modelValue"]),e(Z)?(s(),i("span",gl,d(e(Z)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(Le,{modelValue:e(B),"onUpdate:modelValue":l[19]||(l[19]=a=>u(B)?B.value=a:null)},null,8,["modelValue"]),e(ee)?(s(),i("span",yl,d(e(ee)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(Qe,{modelValue:e(D),"onUpdate:modelValue":l[20]||(l[20]=a=>u(D)?D.value=a:null)},null,8,["modelValue"]),e(le)?(s(),i("span",bl,d(e(le)),1)):o("",!0)]),_:1}),r(m,null,{default:t(()=>[r(Xe,{modelValue:e(I),"onUpdate:modelValue":l[21]||(l[21]=a=>u(I)?I.value=a:null)},null,8,["modelValue"]),e(Y)?(s(),i("span",kl,d(e(Y)),1)):o("",!0)]),_:1})]),_:1}),l[45]||(l[45]=v("div",{class:"w-full flex h-px bg-gray-300"},null,-1)),v("div",zl,[r(e(ze),{variant:"outline",type:"button",onClick:e(z)},{default:t(()=>[...l[42]||(l[42]=[v("span",{class:"flex iconify hugeicons--cancel-01 mr-1.5"},null,-1),f(" Annuler ",-1)])]),_:1},8,["onClick"]),r(e(ze),{type:"submit"},{default:t(()=>[e(Ue)?(s(),i("span",Ml,[v("div",$l,[r(Re),l[44]||(l[44]=v("span",null,"Enregistrement en cours...",-1))])])):(s(),i("span",El,[...l[43]||(l[43]=[v("span",{class:"iconify hugeicons--floppy-disk mr-1"},null,-1),v("span",null,"Enregistrer",-1)])]))]),_:1})])],32)]),_:1}))}});export{Kl as default};
